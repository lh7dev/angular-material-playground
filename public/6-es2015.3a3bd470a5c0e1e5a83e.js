(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{R1GA:function(t,e,n){"use strict";n.r(e),n.d(e,"CustomerModule",(function(){return ot}));var i=n("ofXK"),o=n("tk/3"),c=n("3Pt+"),s=n("bTqV"),a=n("bSwM"),r=n("0IaG"),l=n("f0Cb"),d=n("qFsG"),b=n("M9IT"),m=n("Xa2L"),u=n("Dh3D"),p=n("+0xr"),f=n("wZkO"),h=n("tyNb"),g=n("1uGz"),y=n("fXoL"),C=n("HDdC"),T=n("uWVk"),U=n("IYfF"),v=n("n7rY"),w=n("dNgK");let x=(()=>{class t extends T.a{constructor(t,e,n,i){super(t,e,n,i),this.httpService=t,this.authService=e,this.dummyDataService=n,this.snackbarService=i}getList(){return this.dummyDataService.customerList()}getDetails(t){return this.dummyDataService.customerDetails(t)}applyNew(t){return this.dummyDataService.applyNew(t)}applyEdit(t){return new C.a(t=>{console.log("updating data... not really"),t.next({success:!0})})}addContact(t){return new C.a(t=>{console.log("adding contact... not really"),t.next({success:!0})})}}return t.\u0275fac=function(e){return new(e||t)(y.Yb(o.a),y.Yb(U.a),y.Yb(v.a),y.Yb(w.a))},t.\u0275prov=y.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var z=n("kmnG");let P=(()=>{class t extends class{constructor(t,e,n){this.service=t,this.dialogRef=e,this.fb=n}initForm(t){this.form=this.fb.group(t)}dialogClose(){this.dialogRef.close()}onFormSubmit(){if(this.form.valid){console.log("form is valid, should send values");var t=this.formatData(this.form.value);this.service.applyNew(t).subscribe(t=>{t.success?(this.service.notify(t.message),this.dialogRef.close()):this.service.notify(t.message)})}else{console.log("form is invalid, showing notification");for(let t of Object.keys(this.form.controls))console.log(t+" is "+this.form.controls[t].status),"INVALID"==this.form.controls[t].status&&console.log(this.form.controls[t].errors);console.log(this.form),this.service.notify("The form is not valid")}}}{constructor(t,e,n){super(t,e,n),this.custService=t,this.dialogRef=e,this.fb=n}ngOnInit(){this.controlsConfig={name:["",[c.p.required,c.p.minLength(3)]],status:["active",c.p.required],country:["us",c.p.required],address1:["",c.p.required],address2:[""],city:["",c.p.required],state:["",c.p.required],zipcode:["",[c.p.required,c.p.pattern("^[0-9]{5}(?:-[0-9]{4})?$")]],contactName:["",c.p.required],phone:["",[c.p.required,c.p.pattern("^\\d{10}$")]],email:["",[c.p.required,c.p.email]]},this.initForm(this.controlsConfig)}formatData(t){var e={name:t.contactName,email:t.email,phone:t.phone};return{id:null,number:null,name:t.name,status:t.status,address:{country:t.country,address_line_1:t.address1,address_line_2:t.address2,city:t.city,state:t.state,zipcode:t.zipcode},default_contact:e,contacts:[e]}}}return t.\u0275fac=function(e){return new(e||t)(y.Ob(x),y.Ob(r.e),y.Ob(c.c))},t.\u0275cmp=y.Ib({type:t,selectors:[["lh7-customer-new"]],features:[y.zb],decls:37,vars:1,consts:[[1,"header-section"],[1,"spacer"],[1,"content-section"],[3,"formGroup","ngSubmit"],[1,"customer-name"],["matInput","","placeholder","Customer Name","type","text","min","3","formControlName","name","required",""],[1,"address-info"],["matInput","","placeholder","Address line 1","type","text","min","5","formControlName","address1","required",""],["matInput","","placeholder","Address line 2","type","text","formControlName","address2"],["matInput","","placeholder","City","type","text","min","3","formControlName","city","required",""],["matInput","","placeholder","State","type","text","min","3","formControlName","state","required",""],["matInput","","placeholder","Zip Code","type","text","formControlName","zipcode","required",""],[1,"contact-info"],["matInput","","placeholder","contact name","type","text","min","3","formControlName","contactName","required",""],["matInput","","placeholder","phone number","type","text","formControlName","phone","required",""],["matInput","","placeholder","email","type","email","formControlName","email","required",""],[1,"form-actions"],["mat-raised-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit"]],template:function(t,e){1&t&&(y.Ub(0,"div",0),y.Ub(1,"mat-label"),y.zc(2,"New Customer"),y.Tb(),y.Pb(3,"span",1),y.Tb(),y.Ub(4,"div",2),y.Ub(5,"form",3),y.cc("ngSubmit",(function(){return e.onFormSubmit()})),y.Ub(6,"mat-dialog-content"),y.Ub(7,"section",4),y.Ub(8,"mat-form-field"),y.Pb(9,"input",5),y.Tb(),y.Tb(),y.Ub(10,"section",6),y.Ub(11,"h4"),y.zc(12,"Customer's main address"),y.Tb(),y.Ub(13,"mat-form-field"),y.Pb(14,"input",7),y.Tb(),y.Ub(15,"mat-form-field"),y.Pb(16,"input",8),y.Tb(),y.Ub(17,"mat-form-field"),y.Pb(18,"input",9),y.Tb(),y.Ub(19,"mat-form-field"),y.Pb(20,"input",10),y.Tb(),y.Ub(21,"mat-form-field"),y.Pb(22,"input",11),y.Tb(),y.Tb(),y.Ub(23,"section",12),y.Ub(24,"h4"),y.zc(25,"Contact information"),y.Tb(),y.Ub(26,"mat-form-field"),y.Pb(27,"input",13),y.Tb(),y.Ub(28,"mat-form-field"),y.Pb(29,"input",14),y.Tb(),y.Ub(30,"mat-form-field"),y.Pb(31,"input",15),y.Tb(),y.Tb(),y.Tb(),y.Ub(32,"div",16),y.Ub(33,"button",17),y.cc("click",(function(){return e.dialogClose()})),y.zc(34,"Cancel"),y.Tb(),y.Ub(35,"button",18),y.zc(36,"Create"),y.Tb(),y.Tb(),y.Tb(),y.Tb()),2&t&&(y.Cb(5),y.lc("formGroup",e.form))},directives:[z.e,c.q,c.l,c.f,r.c,z.b,d.a,c.b,c.k,c.d,c.o,s.b],styles:[".td-text[_ngcontent-%COMP%], .th-text[_ngcontent-%COMP%]{padding:0 10px}.td-text[_ngcontent-%COMP%]{padding:15px}.list-checkbox-td[_ngcontent-%COMP%]{width:60px}.list-name-td[_ngcontent-%COMP%]{min-width:130px;overflow-x:hidden;overflow-y:hidden}.list-sku-td[_ngcontent-%COMP%], .list-type-td[_ngcontent-%COMP%]{max-width:80px}.list-price-td[_ngcontent-%COMP%]{width:15%;min-width:100px}.list-status-td[_ngcontent-%COMP%]{width:8%;min-width:50px}.loading-spinner-wrap[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;height:100%;display:flex;justify-content:center;align-items:center;background-color:rgba(0,0,0,.35)}.header-section[_ngcontent-%COMP%]{display:flex}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.form-actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px;margin-top:15px}section[_ngcontent-%COMP%]{display:flex;flex-flow:column}"]}),t})(),O=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.message=""}ngOnInit(){console.log(this.data),this.message=`You are about to permanently delete ${this.data.count} ${this.data.entityRefText}. Do you want to proceed?`,console.log(this.message)}cancel(){this.dialogRef.close({userConfirmed:!1})}confirm(){this.dialogRef.close({userConfirmed:!0})}get ItemCount(){return this.itemCount}get EntityName(){return this.entityName}}return t.\u0275fac=function(e){return new(e||t)(y.Ob(r.e),y.Ob(r.a))},t.\u0275cmp=y.Ib({type:t,selectors:[["app-delete-view"]],decls:8,vars:1,consts:[[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-button","","color","danger",3,"click"]],template:function(t,e){1&t&&(y.Ub(0,"mat-dialog-content"),y.Ub(1,"p"),y.zc(2),y.Tb(),y.Tb(),y.Ub(3,"div",0),y.Ub(4,"button",1),y.cc("click",(function(){return e.cancel()})),y.zc(5,"Cancel"),y.Tb(),y.Ub(6,"button",2),y.cc("click",(function(){return e.confirm()})),y.zc(7,"Delete"),y.Tb(),y.Tb()),2&t&&(y.Cb(2),y.Ac(e.message))},directives:[r.c,s.b],styles:[""]}),t})(),_=(()=>{class t{transform(t){return`${(t="+1"+t).slice(0,2)} (${t.slice(2,5)})${t.slice(5,8)}-${t.slice(8)}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=y.Nb({name:"phone",type:t,pure:!0}),t})();function I(t,e){if(1&t&&(y.Ub(0,"div",2),y.Ub(1,"div",3),y.Ub(2,"h3",4),y.zc(3),y.Tb(),y.Ub(4,"span"),y.zc(5,"phone: "),y.Ub(6,"a",5),y.zc(7),y.hc(8,"phone"),y.Tb(),y.Tb(),y.Pb(9,"br"),y.Ub(10,"span"),y.zc(11,"email: "),y.Ub(12,"a",5),y.zc(13),y.Tb(),y.Tb(),y.Tb(),y.Pb(14,"mat-divider"),y.Tb()),2&t){const t=e.$implicit;y.Cb(3),y.Ac(t.name),y.Cb(3),y.lc("href","tel:"+t.phone,y.tc),y.Cb(1),y.Ac(y.ic(8,5,t.phone)),y.Cb(5),y.lc("href","mailto:"+t.email,y.tc),y.Cb(1),y.Ac(t.email)}}let D=(()=>{class t{constructor(){}ngOnInit(){console.log(this.contacts)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y.Ib({type:t,selectors:[["app-customer-details-contact"]],inputs:{contacts:"contacts"},decls:2,vars:1,consts:[[1,"list-content"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"item-content"],[1,"contact-name"],["mat-button","","color","primary",3,"href"]],template:function(t,e){1&t&&(y.Ub(0,"div",0),y.yc(1,I,15,7,"div",1),y.Tb()),2&t&&(y.Cb(1),y.lc("ngForOf",e.contacts))},directives:[i.l,s.a,l.a],pipes:[_],styles:[".item-content[_ngcontent-%COMP%]{padding:20px 0}.contact-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;margin-bottom:5px}"]}),t})();function N(t,e){1&t&&(y.Ub(0,"div",6),y.Pb(1,"mat-spinner"),y.Tb())}function k(t,e){if(1&t&&(y.Ub(0,"span"),y.zc(1),y.Tb()),2&t){const t=y.gc(2);y.Cb(1),y.Bc(" ",t.entity.address.address_line_2,"")}}function S(t,e){if(1&t&&(y.Ub(0,"mat-tab-group"),y.Ub(1,"mat-tab",7),y.Ub(2,"div",8),y.Ub(3,"label",9),y.zc(4,"Customer Name:"),y.Tb(),y.Ub(5,"h3",null,10),y.zc(7),y.hc(8,"uppercase"),y.Tb(),y.Ub(9,"label",11),y.zc(10,"Status:"),y.Tb(),y.Ub(11,"h3",null,12),y.zc(13),y.Tb(),y.Ub(14,"label",13),y.zc(15,"Address:"),y.Tb(),y.Ub(16,"h3"),y.Ub(17,"span"),y.zc(18),y.Tb(),y.yc(19,k,2,1,"span",2),y.Pb(20,"br"),y.Ub(21,"span"),y.zc(22),y.Tb(),y.Tb(),y.Pb(23,"mat-divider"),y.Ub(24,"h3"),y.zc(25,"Default Contact"),y.Tb(),y.Ub(26,"label",14),y.zc(27,"Name:"),y.Tb(),y.Ub(28,"h3",null,15),y.zc(30),y.Tb(),y.Ub(31,"label",16),y.zc(32,"phone:"),y.Tb(),y.Ub(33,"a",17,18),y.zc(35),y.hc(36,"phone"),y.Tb(),y.Pb(37,"br"),y.Ub(38,"label",19),y.zc(39,"email:"),y.Tb(),y.Ub(40,"a",17,20),y.zc(42),y.Tb(),y.Tb(),y.Tb(),y.Ub(43,"mat-tab",21),y.Pb(44,"app-customer-details-contact",22),y.Tb(),y.Tb()),2&t){const t=y.gc();y.Cb(7),y.Ac(y.ic(8,13,t.entity.name)),y.Cb(6),y.Ac(t.entity.status),y.Cb(5),y.Ac(t.entity.address.address_line_1),y.Cb(1),y.lc("ngIf",null!=t.entity.address.address_line_2),y.Cb(3),y.Cc("",t.entity.address.city," ",t.entity.address.state,", ",t.entity.address.zipcode,""),y.Cb(8),y.Ac(t.entity.default_contact.name),y.Cb(3),y.lc("href","tel:"+t.entity.default_contact.phone,y.tc),y.Cb(2),y.Ac(y.ic(36,15,t.entity.default_contact.phone)),y.Cb(5),y.lc("href","mailto:"+t.entity.default_contact.email,y.tc),y.Cb(2),y.Ac(t.entity.default_contact.email),y.Cb(2),y.lc("contacts",t.contacts)}}let M=(()=>{class t{constructor(t,e,n){this.service=t,this.dialogRef=e,this.data=n,this.loading=!0,this.contacts=[]}ngOnInit(){this.entity=this.data,this.refreshData()}refreshData(){this.loading=!0,this.service.getDetails({id:this.data.id}).subscribe(t=>{1==t.success?(this.entity=t.data[0],this.contacts=this.entity.contacts,this.loading=!1):(this.service.notify("ERROR: could not reach the server"),this.loading=!1,this.dialogRef.close())})}dialogClose(){this.dialogRef.close({next:null})}openEdit(){this.dialogRef.close({next:"open-edit",entity:this.entity})}get isLoading(){return this.loading}}return t.\u0275fac=function(e){return new(e||t)(y.Ob(x),y.Ob(r.e),y.Ob(r.a))},t.\u0275cmp=y.Ib({type:t,selectors:[["app-customer-detail"]],decls:11,vars:2,consts:[[1,"header-section"],["class","loading-spinner-wrap",4,"ngIf"],[4,"ngIf"],[1,"actions"],["mat-raised-button","","color","primary","type","button",3,"click"],["mat-raised-button","","type","button",3,"click"],[1,"loading-spinner-wrap"],["label","Overview"],[1,"overview-section"],["for","eName"],["eName",""],["for","eStatus"],["eStatus",""],["for","eAddress"],["for","ecName"],["ecName",""],["for","ecPhone"],["mat-button","",3,"href"],["ecPhone",""],["for","ecEmail"],["ecEmail",""],["label","Contacts"],[3,"contacts"]],template:function(t,e){1&t&&(y.Ub(0,"div",0),y.Ub(1,"h2"),y.zc(2,"Customer Details"),y.Tb(),y.Tb(),y.Ub(3,"mat-dialog-content"),y.yc(4,N,2,0,"div",1),y.yc(5,S,45,17,"mat-tab-group",2),y.Tb(),y.Ub(6,"div",3),y.Ub(7,"button",4),y.cc("click",(function(){return e.openEdit()})),y.zc(8,"Edit"),y.Tb(),y.Ub(9,"button",5),y.cc("click",(function(){return e.dialogClose()})),y.zc(10,"Close"),y.Tb(),y.Tb()),2&t&&(y.Cb(4),y.lc("ngIf",e.isLoading),y.Cb(1),y.lc("ngIf",!e.isLoading))},directives:[r.c,i.m,s.b,m.b,f.b,f.a,l.a,s.a,D],pipes:[i.t,_],styles:[".actions[_ngcontent-%COMP%]{padding-top:20px}.actions[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-right:7px}"]}),t})();function q(t,e){1&t&&(y.Ub(0,"div",3),y.Pb(1,"mat-spinner"),y.Tb())}function A(t,e){if(1&t&&(y.Ub(0,"div",16),y.Ub(1,"div",17),y.Ub(2,"h3",18),y.zc(3),y.Tb(),y.Ub(4,"span"),y.zc(5,"phone: "),y.Ub(6,"a",19),y.zc(7),y.hc(8,"phone"),y.Tb(),y.Tb(),y.Pb(9,"br"),y.Ub(10,"span"),y.zc(11,"email: "),y.Ub(12,"a",19),y.zc(13),y.Tb(),y.Tb(),y.Ub(14,"div",30),y.Ub(15,"button",31),y.zc(16,"set as default"),y.Tb(),y.Ub(17,"button",32),y.zc(18,"edit"),y.Tb(),y.Ub(19,"button",33),y.zc(20,"delete"),y.Tb(),y.Tb(),y.Tb(),y.Pb(21,"mat-divider"),y.Tb()),2&t){const t=e.$implicit;y.Cb(3),y.Ac(t.name),y.Cb(3),y.lc("href","tel:"+t.phone,y.tc),y.Cb(1),y.Ac(y.ic(8,5,t.phone)),y.Cb(5),y.lc("href","mailto:"+t.email,y.tc),y.Cb(1),y.Ac(t.email)}}function R(t,e){if(1&t){const t=y.Vb();y.Ub(0,"mat-tab-group"),y.Ub(1,"mat-tab",4),y.Ub(2,"mat-dialog-content"),y.Ub(3,"form",5,6),y.cc("ngSubmit",(function(){return y.sc(t),y.gc().applyEdit()})),y.Ub(5,"section",7),y.Ub(6,"mat-form-field"),y.Pb(7,"input",8),y.Tb(),y.Tb(),y.Ub(8,"section",9),y.Ub(9,"h4"),y.zc(10,"Customer's main address"),y.Tb(),y.Ub(11,"mat-form-field"),y.Pb(12,"input",10),y.Tb(),y.Ub(13,"mat-form-field"),y.Pb(14,"input",11),y.Tb(),y.Ub(15,"mat-form-field"),y.Pb(16,"input",12),y.Tb(),y.Ub(17,"mat-form-field"),y.Pb(18,"input",13),y.Tb(),y.Ub(19,"mat-form-field"),y.Pb(20,"input",14),y.Tb(),y.Tb(),y.Ub(21,"section",15),y.Pb(22,"mat-divider"),y.Ub(23,"h4"),y.zc(24,"Default Contact"),y.Tb(),y.Ub(25,"div",16),y.Ub(26,"div",17),y.Ub(27,"h3",18),y.zc(28),y.Tb(),y.Ub(29,"span"),y.zc(30,"phone: "),y.Ub(31,"a",19),y.zc(32),y.hc(33,"phone"),y.Tb(),y.Tb(),y.Pb(34,"br"),y.Ub(35,"span"),y.zc(36,"email: "),y.Ub(37,"a",19),y.zc(38),y.Tb(),y.Tb(),y.Tb(),y.Tb(),y.Tb(),y.Tb(),y.Tb(),y.Ub(39,"div",20),y.Ub(40,"button",21),y.cc("click",(function(){return y.sc(t),y.gc().applyEdit()})),y.zc(41,"Apply"),y.Tb(),y.Ub(42,"button",22),y.cc("click",(function(){return y.sc(t),y.gc().cancel()})),y.zc(43,"Cancel"),y.Tb(),y.Tb(),y.Tb(),y.Ub(44,"mat-tab",23),y.Ub(45,"mat-dialog-content"),y.Ub(46,"div",24),y.Ub(47,"form",5),y.cc("ngSubmit",(function(){return y.sc(t),y.gc().newContact()})),y.Ub(48,"h3"),y.zc(49,"Add new contact"),y.Tb(),y.Ub(50,"section",7),y.Ub(51,"mat-form-field"),y.Pb(52,"input",25),y.Tb(),y.Ub(53,"mat-form-field"),y.Pb(54,"input",26),y.Tb(),y.Ub(55,"mat-form-field"),y.Pb(56,"input",27),y.Tb(),y.Tb(),y.Ub(57,"button",28),y.zc(58,"New Contact"),y.Tb(),y.Tb(),y.Tb(),y.Pb(59,"mat-divider"),y.yc(60,A,22,7,"div",29),y.Tb(),y.Tb(),y.Tb()}if(2&t){const t=y.gc();y.Cb(3),y.lc("formGroup",t.form),y.Cb(25),y.Ac(t.defaultContact.name),y.Cb(3),y.lc("href","tel:"+t.defaultContact.phone,y.tc),y.Cb(1),y.Ac(y.ic(33,8,t.defaultContact.phone)),y.Cb(5),y.lc("href","mailto:"+t.defaultContact.email,y.tc),y.Cb(1),y.Ac(t.defaultContact.email),y.Cb(9),y.lc("formGroup",t.contactForm),y.Cb(13),y.lc("ngForOf",t.contacts)}}let L=(()=>{class t{constructor(t,e,n,i){this.service=t,this.ref=e,this.formBuilder=n,this.data=i,this.form=new c.e({}),this.contactForm=new c.e({}),this.loading=!0,console.log(this.entity)}ngOnInit(){this.entity=this.data,this.contacts=this.data.contacts,this.defaultContact=this.data.default_contact,this.refreshData()}initForm(){const t={name:[this.entity.name,[c.p.required,c.p.minLength(3)]],status:[this.entity.status,c.p.required],country:[this.entity.address.country,c.p.required],address1:[this.entity.address.address_line_1,c.p.required],address2:[this.entity.address.address_line_2],city:[this.entity.address.city,c.p.required],state:[this.entity.address.state,c.p.required],zipcode:[this.entity.address.zipcode,[c.p.required,c.p.pattern("^[0-9]{5}(?:-[0-9]{4})?$")]]},e={name:["",[c.p.required,c.p.minLength(3)]],phone:["",[c.p.required,c.p.pattern("^\\d{10}$")]],email:["",[c.p.required,c.p.email]]};this.form=this.formBuilder.group(t),this.contactForm=this.formBuilder.group(e),this.loading=!1}formatData(t){return{id:t.id,number:t.number,name:t.name,status:t.status,address:{country:t.country,address_line_1:t.address1,address_line_2:t.address2,city:t.city,state:t.state,zipcode:t.zipcode},default_contact:this.defaultContact,contacts:this.contacts}}newContact(){if(console.log("sss"),this.contactForm.valid)console.log("form is valid, should send values"),this.entity.contacts.push(this.contactForm.value),this.service.applyEdit(this.entity).subscribe(t=>{t.success?(this.contactForm.reset(),this.service.notify("Action has not been implemented")):this.service.notify("item could not be updated")});else{console.log("form is invalid, showing notification");for(let t of Object.keys(this.form.controls))console.log(t+" is "+this.form.controls[t].status),"INVALID"==this.form.controls[t].status&&console.log(this.form.controls[t].errors);console.log(this.form)}}refreshData(){this.loading=!0,this.service.getDetails({id:this.data.id}).subscribe(t=>{1==t.success?(this.entity=t.data[0],this.contacts=this.entity.contacts,this.initForm()):(this.service.notify("ERROR: could not reach the server"),this.loading=!1,this.ref.close())})}get isLoading(){return this.loading}cancel(){this.ref.close({next:"open-details",entity:this.ref})}applyEdit(){if(this.form.valid)console.log("form is valid, should send values"),this.formatData(this.form.value),this.service.applyEdit(this.entity).subscribe(t=>{this.service.notify(t.success?"Action has not been implemented":"item could not be updated")});else{console.log("form is invalid, showing notification");for(let t of Object.keys(this.form.controls))console.log(t+" is "+this.form.controls[t].status),"INVALID"==this.form.controls[t].status&&console.log(this.form.controls[t].errors);console.log(this.form)}this.ref.close({next:"open-details",entity:this.entity})}}return t.\u0275fac=function(e){return new(e||t)(y.Ob(x),y.Ob(r.e),y.Ob(c.c),y.Ob(r.a))},t.\u0275cmp=y.Ib({type:t,selectors:[["app-customer-edit"]],decls:5,vars:2,consts:[[1,"header-section"],["class","loading-spinner-wrap",4,"ngIf"],[4,"ngIf"],[1,"loading-spinner-wrap"],["label","Customer Info"],[3,"formGroup","ngSubmit"],["EditForm",""],[1,"customer-name"],["matInput","","placeholder","Customer Name","type","text","min","3","formControlName","name","required",""],[1,"address-info"],["matInput","","placeholder","Address line 1","type","text","min","5","formControlName","address1","required",""],["matInput","","placeholder","Address line 2","type","text","formControlName","address2"],["matInput","","placeholder","City","type","text","min","3","formControlName","city","required",""],["matInput","","placeholder","State","type","text","min","3","formControlName","state","required",""],["matInput","","placeholder","Zip Code","type","text","formControlName","zipcode","required",""],[1,"contact-info"],[1,"item"],[1,"item-content"],[1,"contact-name"],["mat-button","","color","primary",3,"href"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","type","button",3,"click"],["label","Contacts"],[1,"new-contact-form"],["matInput","","placeholder","Contact Name","type","text","min","3","formControlName","name","required",""],["matInput","","placeholder","phone number","type","text","formControlName","phone","required",""],["matInput","","placeholder","email","type","email","formControlName","email","required",""],["mat-raised-button","","type","submit"],["class","item",4,"ngFor","ngForOf"],[1,"item-actions"],["mat-stroked-button","","color","primary"],["mat-button","","color","accent"],["mat-button","","color","warn"]],template:function(t,e){1&t&&(y.Ub(0,"div",0),y.Ub(1,"h2"),y.zc(2,"Edit Customer"),y.Tb(),y.Tb(),y.yc(3,q,2,0,"div",1),y.yc(4,R,61,10,"mat-tab-group",2)),2&t&&(y.Cb(3),y.lc("ngIf",e.isLoading),y.Cb(1),y.lc("ngIf",!e.isLoading))},directives:[i.m,m.b,f.b,f.a,r.c,c.q,c.l,c.f,z.b,d.a,c.b,c.k,c.d,c.o,l.a,s.a,s.b,i.l],pipes:[_],styles:[".item-content[_ngcontent-%COMP%]{padding:20px 0}.contact-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;margin-bottom:5px}.new-contact-form[_ngcontent-%COMP%]{margin:20px 0;padding:20px;border:1px solid rgba(0,0,0,.5);border-radius:5px}.mat-dialog-content[_ngcontent-%COMP%]{padding:0;margin:0;width:100%}form[_ngcontent-%COMP%]{padding:20px 0;display:flex;flex-flow:column}form[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.actions[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:5px}.actions[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-right:8px}.item-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px 0}.item-actions[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-right:8px}"]}),t})();var F=n("UB86"),E=n("S8RS"),$=n("0MNC");function V(t,e){1&t&&(y.Ub(0,"div",12),y.Pb(1,"mat-spinner"),y.Tb())}function B(t,e){if(1&t){const t=y.Vb();y.Ub(0,"th",13),y.Ub(1,"mat-checkbox",14),y.cc("change",(function(e){y.sc(t);const n=y.gc();return e?n.masterToggle():null})),y.Tb(),y.Tb()}if(2&t){const t=y.gc();y.Cb(1),y.lc("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function G(t,e){if(1&t){const t=y.Vb();y.Ub(0,"td",15),y.Ub(1,"mat-checkbox",16),y.cc("click",(function(e){return y.sc(t),e.stopPropagation()}))("change",(function(n){y.sc(t);const i=e.$implicit,o=y.gc();return n?o.selection.toggle(i):null})),y.Tb(),y.Tb()}if(2&t){const t=e.$implicit,n=y.gc();y.Cb(1),y.lc("checked",n.selection.isSelected(t))("aria-label",n.checkboxLabel(t))}}function j(t,e){1&t&&(y.Ub(0,"th",17),y.zc(1,"Number"),y.Tb())}function Y(t,e){if(1&t&&(y.Ub(0,"td",15),y.zc(1),y.Tb()),2&t){const t=e.$implicit;y.Cb(1),y.Bc(" ",t.number," ")}}function H(t,e){1&t&&(y.Ub(0,"th",17),y.zc(1,"Name"),y.Tb())}function K(t,e){if(1&t&&(y.Ub(0,"td",15),y.zc(1),y.Tb()),2&t){const t=e.$implicit;y.Cb(1),y.Bc(" ",t.name," ")}}function X(t,e){1&t&&(y.Ub(0,"th",17),y.zc(1,"Status"),y.Tb())}function Z(t,e){if(1&t&&(y.Ub(0,"td",15),y.zc(1),y.Tb()),2&t){const t=e.$implicit;y.Cb(1),y.Bc(" ",t.status," ")}}function J(t,e){1&t&&y.Pb(0,"tr",18)}function Q(t,e){if(1&t){const t=y.Vb();y.Ub(0,"tr",19),y.cc("click",(function(){y.sc(t);const n=e.$implicit;return y.gc().selectItem(n)})),y.Tb()}}let W=(()=>{class t extends E.a{constructor(t,e){super(t,e),this.service=t,this.desktopDisplayedColumns=["select","number","name","status"],this.handsetDisplayedColumns=this.desktopDisplayedColumns}ngOnInit(){this.refreshList()}ngAfterViewInit(){this.initPaginators()}}return t.\u0275fac=function(e){return new(e||t)(y.Ob(x),y.Ob($.a))},t.\u0275cmp=y.Ib({type:t,selectors:[["app-customer-list"]],viewQuery:function(t,e){var n;1&t&&y.Ec(u.a,!0),2&t&&y.pc(n=y.dc())&&(e.sort=n.first)},features:[y.zb],decls:17,vars:7,consts:[["class","loading-spinner-wrap",4,"ngIf"],["mat-table","","matSort","",1,"mat-elevation-z8","entity-list",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","number"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","list-item",3,"click",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],[1,"loading-spinner-wrap"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row","",1,"list-item",3,"click"]],template:function(t,e){1&t&&(y.yc(0,V,2,0,"div",0),y.Ub(1,"table",1),y.Sb(2,2),y.yc(3,B,2,3,"th",3),y.yc(4,G,2,2,"td",4),y.Rb(),y.Sb(5,5),y.yc(6,j,2,0,"th",6),y.yc(7,Y,2,1,"td",4),y.Rb(),y.Sb(8,7),y.yc(9,H,2,0,"th",6),y.yc(10,K,2,1,"td",4),y.Rb(),y.Sb(11,8),y.yc(12,X,2,0,"th",6),y.yc(13,Z,2,1,"td",4),y.Rb(),y.yc(14,J,1,0,"tr",9),y.yc(15,Q,1,0,"tr",10),y.Tb(),y.Ub(16,"mat-paginator",11),y.cc("page",(function(t){return e.onPageChange(t)})),y.Tb()),2&t&&(y.lc("ngIf",e.isLoading),y.Cb(1),y.lc("dataSource",e.dataSource),y.Cb(13),y.lc("matHeaderRowDef",e.DisplayedColumns),y.Cb(1),y.lc("matRowDefColumns",e.DisplayedColumns),y.Cb(1),y.lc("length",e.length)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions))},directives:[i.m,p.j,u.a,p.c,p.e,p.b,p.g,p.i,b.a,m.b,p.d,a.a,p.a,u.b,p.f,p.h],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),t})();const tt=["List"],et=[{path:"",component:(()=>{class t extends g.a{constructor(t,e){super(t),this.dialog=t,this.service=e,this.title="Customers",this.dialogNew=P,this.dialogDelete=O,this.dialogDetails=M,this.dialogEdit=L}ngOnInit(){}onNew(){this.dialog.open(this.dialogNew,{width:"400px",disableClose:!0,autoFocus:!1}).afterClosed().subscribe(t=>{this.listRef.refreshList()})}confirmDelete(){var t=this.checkedItems.length,e=this.entityRefText("customer","customers");if(t>0)try{this.service.delete(this.checkedItems).subscribe(n=>{n.success?(this.service.notify(`A total of ${t} ${e} have been deleted`),this.listRef.refreshList()):this.service.notify(`${t} could not be deleted`)})}catch(n){console.log("Action not implemented"),this.service.notify("Action not implemented")}else this.service.notify("nothing to delete")}onDelete(){const t=this.checkedItems.length;if(t>0){const e=this.entityRefText("customer","customers");this.dialog.open(this.dialogDelete,{width:"400px",autoFocus:!1,data:{entityRefText:e,count:t}}).afterClosed().subscribe(t=>{console.log(t),1==t.userConfirmed&&this.confirmDelete()})}else this.service.notify("no item selected")}onSelect(t){this.dialog.open(this.dialogDetails,{width:"400px",autoFocus:!1,disableClose:!0,data:t}).afterClosed().subscribe(t=>{switch(console.log(t),t.next){case"open-edit":this.onOpenEdit(t.entity);break;default:this.listRef.refreshList()}})}}return t.\u0275fac=function(e){return new(e||t)(y.Ob(r.b),y.Ob(x))},t.\u0275cmp=y.Ib({type:t,selectors:[["app-customer"]],viewQuery:function(t,e){var n;1&t&&y.wc(tt,!0),2&t&&y.pc(n=y.dc())&&(e.listRef=n.first)},features:[y.zb],decls:3,vars:1,consts:[["showNewBtn","true","showDeleteBtn","true","showSearchBar","true",1,"entity-Toolbar",3,"title","newEvent","deleteEvent","searchChanged"],[3,"selectionChanged","itemSelected"],["List",""]],template:function(t,e){if(1&t){const t=y.Vb();y.Ub(0,"app-entity-toolbar",0),y.cc("newEvent",(function(){return e.onNew()}))("deleteEvent",(function(){return e.onDelete()}))("searchChanged",(function(e){return y.sc(t),y.qc(2).searchFor(e)})),y.Tb(),y.Ub(1,"app-customer-list",1,2),y.cc("selectionChanged",(function(t){return e.onSelectionChanged(t)}))("itemSelected",(function(t){return e.onSelect(t)})),y.Tb()}2&t&&y.lc("title",e.title)},directives:[F.a,W],styles:["[_nghost-%COMP%]{width:100%}"]}),t})()}];let nt=(()=>{class t{}return t.\u0275mod=y.Mb({type:t}),t.\u0275inj=y.Lb({factory:function(e){return new(e||t)},imports:[[h.d.forChild(et)],h.d]}),t})();var it=n("PCNd");let ot=(()=>{class t{}return t.\u0275mod=y.Mb({type:t}),t.\u0275inj=y.Lb({factory:function(e){return new(e||t)},providers:[x],imports:[[i.c,nt,o.b,c.g,c.n,s.c,a.b,r.d,l.b,d.b,b.b,m.a,u.c,p.l,f.c,it.a]]}),t})()}}]);